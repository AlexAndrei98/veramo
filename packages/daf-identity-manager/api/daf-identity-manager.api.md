## API Report File for "daf-identity-manager"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { IAgentContext } from 'daf-core';
import { IAgentPlugin } from 'daf-core';
import { IIdentity } from 'daf-core';
import { IIdentityManager } from 'daf-core';
import { IIdentityManagerAddKeyArgs } from 'daf-core';
import { IIdentityManagerAddServiceArgs } from 'daf-core';
import { IIdentityManagerCreateIdentityArgs } from 'daf-core';
import { IIdentityManagerDeleteIdentityArgs } from 'daf-core';
import { IIdentityManagerGetIdentitiesArgs } from 'daf-core';
import { IIdentityManagerGetIdentityArgs } from 'daf-core';
import { IIdentityManagerGetIdentityByAliasArgs } from 'daf-core';
import { IIdentityManagerGetOrCreateIdentityArgs } from 'daf-core';
import { IIdentityManagerRemoveKeyArgs } from 'daf-core';
import { IIdentityManagerRemoveServiceArgs } from 'daf-core';
import { IIdentityManagerSetAliasArgs } from 'daf-core';
import { IKey } from 'daf-core';
import { IKeyManager } from 'daf-core';
import { IService } from 'daf-core';

// @public
export abstract class AbstractIdentityProvider {
    // (undocumented)
    abstract addKey(args: {
        identity: IIdentity;
        key: IKey;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    abstract addService(args: {
        identity: IIdentity;
        service: IService;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    abstract createIdentity(args: {
        kms?: string;
        alias?: string;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<Omit<IIdentity, 'provider'>>;
    // (undocumented)
    abstract deleteIdentity(args: IIdentity, context: IAgentContext<IKeyManager>): Promise<boolean>;
    // (undocumented)
    abstract removeKey(args: {
        identity: IIdentity;
        kid: string;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    abstract removeService(args: {
        identity: IIdentity;
        id: string;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<any>;
}

// @public
export abstract class AbstractIdentityStore {
    // (undocumented)
    abstract delete(args: {
        did: string;
    }): Promise<boolean>;
    // (undocumented)
    abstract get(args: {
        did: string;
    }): Promise<IIdentity>;
    // (undocumented)
    abstract get(args: {
        alias: string;
        provider: string;
    }): Promise<IIdentity>;
    // (undocumented)
    abstract import(args: IIdentity): Promise<boolean>;
    // (undocumented)
    abstract list(args: {
        alias?: string;
        provider?: string;
    }): Promise<IIdentity[]>;
}

// @public
export class IdentityManager implements IAgentPlugin {
    constructor(options: {
        providers: Record<string, AbstractIdentityProvider>;
        defaultProvider: string;
        store: AbstractIdentityStore;
    });
    // (undocumented)
    identityManagerAddKey({ did, key, options }: IIdentityManagerAddKeyArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    identityManagerAddService({ did, service, options }: IIdentityManagerAddServiceArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    identityManagerCreateIdentity(args: IIdentityManagerCreateIdentityArgs, context: IAgentContext<IKeyManager>): Promise<IIdentity>;
    // (undocumented)
    identityManagerDeleteIdentity({ did }: IIdentityManagerDeleteIdentityArgs, context: IAgentContext<IKeyManager>): Promise<boolean>;
    // (undocumented)
    identityManagerGetIdentities(args: IIdentityManagerGetIdentitiesArgs): Promise<IIdentity[]>;
    // (undocumented)
    identityManagerGetIdentity({ did }: IIdentityManagerGetIdentityArgs): Promise<IIdentity>;
    // (undocumented)
    identityManagerGetIdentityByAlias({ alias, provider, }: IIdentityManagerGetIdentityByAliasArgs): Promise<IIdentity>;
    // (undocumented)
    identityManagerGetOrCreateIdentity({ provider, alias, kms, options }: IIdentityManagerGetOrCreateIdentityArgs, context: IAgentContext<IKeyManager>): Promise<IIdentity>;
    // (undocumented)
    identityManagerGetProviders(): Promise<string[]>;
    // (undocumented)
    identityManagerImportIdentity(identity: IIdentity, context: IAgentContext<IKeyManager>): Promise<IIdentity>;
    // (undocumented)
    identityManagerRemoveKey({ did, kid, options }: IIdentityManagerRemoveKeyArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    identityManagerRemoveService({ did, id, options }: IIdentityManagerRemoveServiceArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    identityManagerSetAlias({ did, alias }: IIdentityManagerSetAliasArgs, context: IAgentContext<IKeyManager>): Promise<boolean>;
    readonly methods: IIdentityManager;
    // (undocumented)
    readonly schema: {
        components: {
            schemas: {
                IIdentityManagerAddKeyArgs: {
                    type: string;
                    properties: {
                        did: {
                            type: string;
                            description: string;
                        };
                        key: {
                            $ref: string;
                            description: string;
                        };
                        options: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IKey: {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                        kms: {
                            type: string;
                            description: string;
                        };
                        type: {
                            $ref: string;
                            description: string;
                        };
                        publicKeyHex: {
                            type: string;
                            description: string;
                        };
                        privateKeyHex: {
                            type: string;
                            description: string;
                        };
                        meta: {
                            anyOf: {
                                type: string;
                            }[];
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                TKeyType: {
                    type: string;
                    enum: string[];
                    description: string;
                };
                IIdentityManagerAddServiceArgs: {
                    type: string;
                    properties: {
                        did: {
                            type: string;
                            description: string;
                        };
                        service: {
                            $ref: string;
                            description: string;
                        };
                        options: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IService: {
                    type: string;
                    properties: {
                        id: {
                            type: string;
                            description: string;
                        };
                        type: {
                            type: string;
                            description: string;
                        };
                        serviceEndpoint: {
                            type: string;
                            description: string;
                        };
                        description: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IIdentityManagerCreateIdentityArgs: {
                    type: string;
                    properties: {
                        alias: {
                            type: string;
                            description: string;
                        };
                        provider: {
                            type: string;
                            description: string;
                        };
                        kms: {
                            type: string;
                            description: string;
                        };
                        options: {
                            type: string;
                            description: string;
                        };
                    };
                    description: string;
                };
                IIdentity: {
                    type: string;
                    properties: {
                        did: {
                            type: string;
                            description: string;
                        };
                        alias: {
                            type: string;
                            description: string;
                        };
                        provider: {
                            type: string;
                            description: string;
                        };
                        controllerKeyId: {
                            type: string;
                            description: string;
                        };
                        keys: {
                            type: string; /** {@inheritDoc daf-core#IIdentityManager.identityManagerGetOrCreateIdentity} */
                            items: {
                                $ref: string;
                            };
                            description: string;
                        };
                        services: {
                            type: string;
                            items: {
                                $ref: string;
                            };
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IIdentityManagerDeleteIdentityArgs: {
                    type: string;
                    properties: {
                        did: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IIdentityManagerGetIdentitiesArgs: {
                    type: string;
                    properties: {
                        alias: {
                            type: string;
                            description: string;
                        };
                        provider: {
                            type: string;
                            description: string;
                        };
                    };
                    description: string;
                };
                IIdentityManagerGetIdentityArgs: {
                    type: string;
                    properties: {
                        did: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IIdentityManagerGetIdentityByAliasArgs: {
                    type: string;
                    properties: {
                        alias: {
                            type: string;
                            description: string;
                        };
                        provider: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IIdentityManagerGetOrCreateIdentityArgs: {
                    type: string;
                    properties: {
                        alias: {
                            type: string;
                            description: string;
                        };
                        provider: {
                            type: string;
                            description: string;
                        };
                        kms: {
                            type: string;
                            description: string;
                        };
                        options: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IIdentityManagerRemoveKeyArgs: {
                    type: string;
                    properties: {
                        did: {
                            type: string;
                            description: string;
                        };
                        kid: {
                            type: string;
                            description: string;
                        };
                        options: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IIdentityManagerRemoveServiceArgs: {
                    type: string;
                    properties: {
                        did: {
                            type: string;
                            description: string;
                        };
                        id: {
                            type: string;
                            description: string;
                        };
                        options: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IIdentityManagerSetAliasArgs: {
                    type: string;
                    properties: {
                        did: {
                            type: string;
                            description: string;
                        };
                        alias: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
            };
            methods: {
                identityManagerAddKey: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                identityManagerAddService: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                identityManagerCreateIdentity: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
                identityManagerDeleteIdentity: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                identityManagerGetIdentities: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                        items: {
                            $ref: string;
                        };
                    };
                };
                identityManagerGetIdentity: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
                identityManagerGetIdentityByAlias: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
                identityManagerGetOrCreateIdentity: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
                identityManagerGetProviders: {
                    description: string;
                    arguments: {
                        type: string;
                    };
                    returnType: {
                        type: string;
                        items: {
                            type: string;
                        };
                    };
                };
                identityManagerImportIdentity: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
                identityManagerRemoveKey: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                identityManagerRemoveService: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                identityManagerSetAlias: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
            };
        };
    };
    }


```
